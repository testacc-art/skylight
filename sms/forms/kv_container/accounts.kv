<NewAccountPopup>:
    title: 'New Account'
    size_hint: (.5, None)
    height: self.content.height + dp(50)
    BoxLayout:
        orientation: 'vertical'
        size_hint_y: None
        height: self.minimum_height
        spacing: dp(10)
        GridLayout:
            cols: 2
            padding: dp(20)
            spacing: (10, 5)
            size_hint_y: None
            height: self.minimum_height
            row_default_height: dp(30)
            row_force_default: True
            CustomLabel:
                text: 'Firstname'
            CustomTextInput:
                id: fname
            CustomLabel:
                text: 'Lastname'
            CustomTextInput:
                id: lname
            CustomLabel:
                text: 'Email'
            CustomTextInput:
                id: email
            CustomLabel:
                text: 'Title'
            CustomSpinner:
                id: title
                width: dp(300)
                values: root.available_titles
            CustomLabel:
                text: 'Username'
            CustomTextInput:
                id: username
            CustomLabel:
                text: 'Password'
            CustomTextInput:
                id: pwd
                password: 'True'
                disabled: cbox.active
            CustomLabel:
                text: 'Repeat Password'
            CustomTextInput:
                id: rpwd
                password: 'True'
                disabled: cbox.active
        BoxLayout:
            size_hint_y: None
            height: dp(30)
            CustomLabel:
                text: 'Auto generate password'
            CheckBox:
                id: cbox
                active: True
        Button:
            size_hint: .3, None
            height: dp(30)
            pos_hint: {'center_x': .5}
            text: 'Create new account'
            on_press: root.create()

<RemoveAccountPopup>:
    title: 'Remove Account'
    size_hint: (.5, None)
    height: self.content.height + dp(70)
    BoxLayout:
        orientation: 'vertical'
        size_hint_y: None
        height: self.minimum_height
        spacing: 10
        BoxLayout:
            size_hint_y: None
            height: dp(30)
            CustomLabel:
                text: 'Username'
            CustomTextInput:
                id: username
                width: dp(100)
        Button:
            size_hint: .3, None
            height: dp(30)
            pos_hint: {'center_x': .5}
            text: 'Remove'
            on_press: root.remove()

<ResetAccountPopup>:
    title: 'Reset Account'
    size_hint: (.5, None)
    height: self.content.height + dp(50)
    BoxLayout:
        orientation: 'vertical'
        size_hint_y: None
        height: self.minimum_height
        spacing: dp(10)
        GridLayout:
            cols: 2
            padding: dp(20)
            spacing: (10, 5)
            size_hint_y: None
            height: self.minimum_height
            row_default_height: dp(30)
            row_force_default: True
            CustomLabel:
                text: 'Username'
            CustomTextInput:
                id: username
                width: dp(100)
            CustomLabel:
                text: 'New Password'
            CustomTextInput:
                id: pwd
                password: True
                disabled: cbox.active
            CustomLabel:
                text: 'Repeat Password'
            CustomTextInput:
                id: rpwd
                password: True
                disabled: cbox.active
        BoxLayout:
            size_hint_y: None
            height: dp(30)
            CustomLabel:
                text: 'Auto generate password'
            CheckBox:
                id: cbox
                active: True
        Button:
            size_hint: .3, None
            height: dp(30)
            pos_hint: {'center_x': .5}
            text: 'Reset'
            on_press: root.reset()

<Accounts>:
    dv: dv

    BoxLayout:
        padding: dp(10)

        DataViewer2:
            id: dv
            cols: 4
            weightings: [.2, .4, .2, .2]
            headers: ['Username', 'Fullname', 'Title', 'Email']
            _data: root._data
            selectable: True

        RelativeLayout:
            size_hint_x: .2
            BoxLayout:
                orientation: 'vertical'
                size_hint_y: None
                height: dp(200)
                pos_hint: {'center_x': .5, 'center_y': .5}
                MenuButton:
                    text: 'New account'
                    on_press: root.new_account()
                MenuButton:
                    text: 'Remove account'
                    on_press: root.remove_account()
                MenuButton:
                    text: 'Reset account'
                    on_press: root.reset_account()