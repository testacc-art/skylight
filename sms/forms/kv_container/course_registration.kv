<CourseRegViewBase>:
    dv: dv
    _data: dv._data
    BoxLayout:
        orientation: 'vertical'
        size_hint_x: None
        width: spinner_layout.minimum_width
        RecycleView:
            viewclass: 'CustomLabel'
            data: [] if not root.headers else [{'text': root.headers[0]}]
            size_hint_y: None
            height: header_layout.height
            size_hint_x: None
            width: dv.ids.content_layout.minimum_width
            RecycleGridLayout:
                id: header_layout
                cols: 1
                size_hint_y: None
                default_size: dp(100), dp(35)
                default_size_hint: None, None
                height: self.minimum_height
        RecycleView:
            viewclass: 'CSpinner'
            data: root.data_for_spinner
            scroll_y: dv.rv.scroll_y
            do_scroll_y: False
            RecycleGridLayout:
                id: spinner_layout
                cols: 1
                size_hint_y: None
                default_size: sp(50), dp(35)
                default_size_hint: None, None
                height: self.minimum_height
    DataViewer:
        id: dv
        cols: 2
        widths: [300, 50]
        prop: root.prop
        headers: root.headers[1:]
        _data: root._data
        size_hint_y: None
        height: self.ids.rv.height + dp(35)

<CourseRegView>:
    compulsory_course_reg_view: compulsory_course_reg_view
    regular_course_reg_view: regular_course_reg_view
    regular_course_code_data: regular_course_reg_view.course_code_data
    orientation: 'vertical'
    CourseRegViewBase:
        id: compulsory_course_reg_view
        headers: ['Course Code', 'Course Title', 'Credits']
        course_code_data: root.compulsory_course_code_data
        _data: root.compulsory_course_reg_data
        prop: {'disabled': True}
        size_hint_y: None
        height: self.dv.height
    CourseRegViewBase:
        id: regular_course_reg_view
        headers: ['', '', '']
        course_code_data: root.regular_course_code_data
        _data: root.regular_course_reg_data
        prop: {'disabled': True}
        size_hint_y: None
        height: self.dv.height
    Button:
        text: '-'
        size_hint_y: None
        height: 30
        on_press: root.remove_data()

<CourseRegistration>:
    first_sem_view: first_sem_view
    second_sem_view: second_sem_view
    BoxLayout:
        orientation: 'vertical'
        BoxLayout:
            canvas.before:
                Color:
                    rgba: (0,0,0,.4)
                Rectangle:
                    size: self.size
                    pos: self.pos
            size_hint_y: None
            height: 50
            Label:
                text: 'COURSE REGISTRATION FORM'
                font_size: 20
                halign: 'center'
                valign: 'middle'
                size_hint_x: .9
            ImageButton:
                size_hint_x: .1
                source: os.path.join(root.form_root, 'resc', 'icons', 'icons8-back-64.png')
                on_press:
                    app.root.transition.direction = 'right'
                    app.root.current = 'main_page'

        BoxLayout:
            canvas.before:
                Color:
                    rgba: 1, 0, 0, 1
                Rectangle:
                    pos: self.pos
                    size: self.size
            size_hint_y: None
            height: grid.height
            GridLayout:
                id: grid
                cols: 2
                padding: 20
                spacing: (10, 5)
                size_hint: (.5, None)
                height: self.minimum_height
                row_default_height: 30
                row_force_default: True
                CustomLabel:
                    text: 'Session'
                    halign: 'left'
                CustomTextInput:
                    id: reg_session
                    max_length: 4
                    input_filter: 'int'
                    width: 100
                    disabled: root.disable_entries
                CustomLabel:
                    text: 'Mat number'
                    halign: 'left'
                BoxLayout:
                    spacing: 20
                    CustomTextInput:
                        id: mat_no
                        width: 125
                        text: 'ENG'
                        max_length: 10
                        disabled: root.disable_entries
                    ImageButton:
                        size_hint_x: None
                        width: 50
                        source: os.path.join(root.form_root, 'resc', 'icons', 'icons8-search-48.png')
                        on_press: root.search()
                    ImageButton:
                        size_hint_x: None
                        width: 50
                        source: os.path.join(root.form_root, 'resc', 'icons', 'icons8-delete-48.png')
                        on_press: root.clear()
                CustomLabel:
                    text: 'Surname'
                    halign: 'left'
                CustomTextInput:
                    id: surname
                    disabled: root.disable_entries
                CustomLabel:
                    text: 'Othernames'
                    halign: 'left'
                CustomTextInput:
                    id: othernames
                    disabled: root.disable_entries
                CustomLabel:
                    text: 'Current level'
                    halign: 'left'
                CustomSpinner:
                    id: cur_level
                    values: ['100', '200', '300', '400', '500']
                    disabled: root.disable_entries
                CustomLabel:
                    text: 'Phone number'
                    halign: 'left'
                CustomTextInput:
                    id: phone_no
                    input_filter: 'int'
                    max_length: 11
                    disabled: root.disable_entries
                CustomLabel:
                    text: 'Probation status'
                    halign: 'left'
                CustomSpinner:
                    id: prob_stat
                    disabled: root.disable_entries
                    values: ['on probation', 'not on probation']
                CustomLabel:
                    text: 'Fees status'
                    halign: 'left'
                CustomSpinner:
                    id: fees_stat
            CustomLabel:
                text: 'Passport'
                size_hint: (None, None)
                height: grid.height
                valign: 'top'
                halign: 'center'
                pos_hint: {'top': 1}
            FloatLayout:
                size_hint: (.2, None)
                height: grid.height
                pos_hint: {'top': 1}
                Image:
                    id: passport
                    size_hint: (None, None)
                    size: (117, 160)
                    pos_hint: {'top': 1, 'x': 0}
                    on_touch_down: pass
                    source: os.path.join(root.form_root, 'resc', 'icons', 'icons8-edit-profile-480.png')
            FloatLayout:
                size_hint_x: .3

        ScrollView:
            do_scroll_x: False
            BoxLayout:
                size_hint_y: None
                height: first_sem_view.height + dp(35) if first_sem_view.height >= second_sem_view.height else second_sem_view.height + dp(35)
                BoxLayout:
                    orientation: 'vertical'
                    Label:
                        text: 'FIRST SEMESTER'
                        size_hint_y: None
                        height: dp(35)
                        texture_size: self.text_size
                        halign: 'center'
                    CourseRegView:
                        id: first_sem_view
                        size_hint_y: None
                        height: self.compulsory_course_reg_view.height + self.regular_course_reg_view.height + dp(30)
                        regular_course_reg_data: [['', '']]
                        regular_course_code_data: [['']]
                BoxLayout:
                    orientation: 'vertical'
                    Label:
                        text: 'SECOND SEMESTER'
                        size_hint_y: None
                        height: dp(35)
                        texture_size: self.text_size
                        halign: 'center'
                    CourseRegView:
                        id: second_sem_view
                        size_hint_y: None
                        height: self.compulsory_course_reg_view.height + self.regular_course_reg_view.height + dp(30)
                        regular_course_reg_data: [['', '']]
                        regular_course_code_data: [['']]
