<CourseRegView>:
    grid: grid
    orientation: 'vertical'
    ScrollView:
        do_scroll_x: False
        size_hint_y: None
        height: root.height - btn.height
        BoxLayout:
            orientation: 'vertical'
            size_hint_y: None
            height: self.minimum_height
            BoxLayout:
                size_hint_y: None
                height: dp(35)
                HeaderLabel:
                    text: 'Course Code'
                    size_hint_x: root.size_hints[0]
                HeaderLabel:
                    text: 'Course Title'
                    size_hint_x: root.size_hints[1]
                HeaderLabel:
                    text: 'Credit'
                    size_hint_x: root.size_hints[2]
            GridLayout:
                id: grid
                cols: 3
                size_hint_y: None
                height: self.minimum_height
                row_default_height: dp(35)
                row_force_default: True
            BoxLayout:
                size_hint_y: None
                height: dp(35)
                Label:
                    size_hint_x: root.size_hints[0]
                HeaderLabel:
                    text: 'Total Credits'
                    size_hint_x: root.size_hints[1]
                CustomTextInput:
                    disabled: True
                    text: str(root.total_credits)
                    size_hint_x: root.size_hints[2]
    Button:
        id: btn
        size_hint_y: None
        height: dp(35)
        text: '-'
        on_press: root.remove_field()

<CourseRegistration>:
    first_sem_view: first_sem_view
    second_sem_view: second_sem_view
    BoxLayout:
        orientation: 'vertical'
        BoxLayout:
            canvas.before:
                Color:
                    rgba: (0, 0, 0, .4)
                Rectangle:
                    size: self.size
                    pos: self.pos
            size_hint_y: None
            height: dp(50)
            Label:
                text: 'COURSE REGISTRATION FORM'
                font_size: sp(20)
                halign: 'center'
                valign: 'middle'
                size_hint_x: .9
            ImageButton:
                size_hint_x: .1
                source: os.path.join(root.form_root, 'resc', 'icons', 'icons8-back-64.png')
                on_press:
                    app.root.transition.direction = 'right'
                    app.root.current = 'main_page'

        BoxLayout:
            size_hint_y: None
            height: grid.height
            GridLayout:
                id: grid
                cols: 2
                padding: dp(20)
                spacing: [dp(10), dp(5)]
                size_hint: (.5, None)
                height: self.minimum_height
                row_default_height: dp(30)
                row_force_default: True
                CustomLabel:
                    text: 'Session'
                    halign: 'left'
                CustomTextInput:
                    id: reg_session
                    max_length: 4
                    input_filter: 'int'
                    width: dp(100)
                    disabled: root.disable_entries
                CustomLabel:
                    text: 'Mat number'
                    halign: 'left'
                BoxLayout:
                    spacing: dp(20)
                    CustomTextInput:
                        id: mat_no
                        width: dp(125)
                        text: 'ENG'
                        max_length: 10
                        disabled: root.disable_entries
                    ImageButton:
                        size_hint_x: None
                        width: dp(50)
                        source: os.path.join(root.form_root, 'resc', 'icons', 'icons8-search-48.png')
                        on_press: root.search()
                    ImageButton:
                        size_hint_x: None
                        width: dp(50)
                        source: os.path.join(root.form_root, 'resc', 'icons', 'icons8-delete-48.png')
                        on_press: root.clear()
                CustomLabel:
                    text: 'Surname'
                    halign: 'left'
                CustomTextInput:
                    id: surname
                    disabled: root.disable_entries
                CustomLabel:
                    text: 'Othernames'
                    halign: 'left'
                CustomTextInput:
                    id: othernames
                    disabled: root.disable_entries
                CustomLabel:
                    text: 'Current level'
                    halign: 'left'
                CustomSpinner:
                    id: cur_level
                    values: ['100', '200', '300', '400', '500']
                    disabled: root.disable_entries
                CustomLabel:
                    text: 'Phone number'
                    halign: 'left'
                CustomTextInput:
                    id: phone_no
                    input_filter: 'int'
                    max_length: 11
                    disabled: root.disable_entries
                CustomLabel:
                    text: 'Probation status'
                    halign: 'left'
                CustomSpinner:
                    id: prob_stat
                    disabled: root.disable_entries
                    values: ['not on probation', 'on probation']
                CustomLabel:
                    text: 'Fees status'
                    halign: 'left'
                CustomSpinner:
                    id: fees_stat
            CustomLabel:
                text: 'Passport'
                size_hint: (None, None)
                height: grid.height
                valign: 'top'
                halign: 'center'
                pos_hint: {'top': 1}
            FloatLayout:
                size_hint: (.2, None)
                height: grid.height
                pos_hint: {'top': 1}
                Image:
                    id: passport
                    size_hint: (None, None)
                    size: [dp(117), dp(160)]
                    pos_hint: {'top': 1, 'x': 0}
                    on_touch_down: pass
                    source: os.path.join(root.form_root, 'resc', 'icons', 'icons8-edit-profile-480.png')
            FloatLayout:
                size_hint_x: .3

        BoxLayout:
            BoxLayout:
                orientation: 'vertical'
                padding: [dp(10), dp(0)]
                Label:
                    text: 'FIRST SEMESTER'
                    text_size: self.size
                    halign: 'center'
                    valign: 'middle'
                    size_hint_y: .1
                CourseRegView:
                    id: first_sem_view
            BoxLayout:
                orientation: 'vertical'
                padding: [dp(10), dp(0)]
                Label:
                    text: 'SECOND SEMESTER'
                    text_size: self.size
                    halign: 'center'
                    valign: 'middle'
                    size_hint_y: .1
                CourseRegView:
                    id: second_sem_view
        Button:
            size_hint: .1, .1
            pos_hint: {'center_x': .5}
            disabled: (root.max_credits < root.credits_to_register) or root.is_old_course_reg
            text: 'Register'
            on_press: root.register_courses()
